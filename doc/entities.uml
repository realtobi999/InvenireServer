@startuml entities
class Employee {
	/'Properties'/
	+ Guid Id
	+ string FirstName
	+ string LastName
	+ string Email
	+ string Password
	+ Datetime? LastLoginAt
	+ int LoginAttempts
	+ Tuple<bool, Datetime?> AccountLock
	+ Datetime? UpdatedAt
	+ Datetime CreatedAt

	/'Properties - Relationships'/
	+ Organization? Organization

	/'Methods'/
	+ void Update(UpdateEmployeeDto dto)
}

class Admin {
	/'Properties'/
	+ Guid Id
	+ string Email
	+ string Password
	+ Datetime LastLoginAt
	+ int LoginAttempts
	+ Tuple<bool, Datetime?> AccountLock
	+ Datetime? UpdatedAt
	+ Datetime CreatedAt

	/'Properties - Relationships'/
	+ Organization? Organization

	/'Methods'/
	+ void Update(UpdateAdminDto dto)
}

class Organization {
	/'Properties'/
	+ Guid Id
	+ Guid AdminId
	+ Guid PropertyId
	+ string Name
	+ Datetime? UpdatedAt
	+ Datetime CratedAt

	/'Properties - Relationships'/
	+ Admin? Admin
	+ ICollection<Employee> Employees
	+ Property? Property

	/'Methods'/
	+ void Update(UpdateAdminDto dto)
}

class Property {
	/'Properties'/
	+ Guid Id
	+ Guid OrganizationId
	+ IEnumerable<PropertyGroup> Groups
	+ Datetime? UpdatedAt
	+ Datetime CreatedAt

	/'Properties - Relationships'/
	+ Organization? Organization

	/'Methods'/
	+ void SetGroups(IEnumerable<PropertyGroup> newGroups)
	+ void AddGroup(PropertyGroup newGroup)
	+ void UpdateGroup(Predicate<PropertyGroup> match, Action<PropertyGroup> action)
	+ void RemoveGroups(Predicate<PropertyGroup> match)
}

class PropertyCheck {
	/'Properties'/
	+ Guid Id
	+ Guid OrganizationId
	+ Guid PropertyId
	+ Datetime? EndedAt
	+ Datetime CreatedAt

	/'Properties - Relationships'/
	+ Organization? Organization
	+ Property? ActualProperty
	+ Property? MissingProperty
}

class PropertyGroup {
	+ Guid Id
	+ string Name
	+ List<PropertyItem> Items
	+ List<PropertyGroup> Subgroups
}

class PropertyItem {
	+ Guid Id
}


/'Connections'/
Organization "1" o-- "1" Admin
Organization "1" o-- "*" Employee
Organization "1" o-- "1" Property
Property "1" *-- "*" PropertyGroup
PropertyGroup "1" *-- "*" PropertyGroup
PropertyGroup "1" *-- "*" PropertyItem
PropertyCheck "1" o-- "1" Property : Actual Property
PropertyCheck "1" o-- "1" Property : Missing Property
PropertyCheck "*" o-- "1" Organization
@enduml
